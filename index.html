<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bílá Stopa - Aktuální podmínky</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* ... Previous styles remain the same ... */
        .last-update {
            text-align: center;
            font-size: 14px;
            color: #666;
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Bílá Stopa</h1>
        <p>Aktuální podmínky pro běžecké lyžování</p>
        <p class="last-update">Poslední aktualizace: <span id="updateTime"></span></p>
    </header>
    
    <main class="grid" id="conditionsGrid">
        <!-- Content will be loaded dynamically -->
    </main>

    <script>
        async function loadConditions() {
            try {
                const response = await fetch('data.json');
                const conditions = await response.json();
                
                const grid = document.getElementById('conditionsGrid');
                grid.innerHTML = ''; // Clear existing content
                
                conditions.forEach(condition => {
                    const box = document.createElement('div');
                    box.className = 'info-box';
                    
                    box.innerHTML = `
                        <h2>${condition.region}</h2>
                        <p class="date">${condition.date}</p>
                        <p>${condition.content}</p>
                        ${condition.skating ? '<p class="tag">#skate</p>' : ''}
                    `;
                    
                    grid.appendChild(box);
                });
                
                // Update last update time
                document.getElementById('updateTime').textContent = new Date().toLocaleString('cs-CZ');
                
            } catch (error) {
                console.error('Error loading conditions:', error);
            }
        }

        // Load conditions immediately and every 5 minutes
        loadConditions();
        setInterval(loadConditions, 5 * 60 * 1000);
    </script>
</body>
</html>